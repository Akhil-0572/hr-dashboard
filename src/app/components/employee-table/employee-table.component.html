<div class="table-wrap">
  <table class="table">
    <thead>
      <tr>
        <th (click)="setSort('name')">Name <span *ngIf="sortKey==='name'">{{ sortDir===1 ? '▲' : '▼' }}</span></th>
        <th (click)="setSort('team')">Team <span *ngIf="sortKey==='team'">{{ sortDir===1 ? '▲' : '▼' }}</span></th>
        <th (click)="setSort('role')">Role <span *ngIf="sortKey==='role'">{{ sortDir===1 ? '▲' : '▼' }}</span></th>
        <th (click)="setSort('location')">Location <span *ngIf="sortKey==='location'">{{ sortDir===1 ? '▲' : '▼' }}</span></th>
        <th (click)="setSort('join')">Joined <span *ngIf="sortKey==='join'">{{ sortDir===1 ? '▲' : '▼' }}</span></th>
        <th (click)="setSort('status')">Status <span *ngIf="sortKey==='status'">{{ sortDir===1 ? '▲' : '▼' }}</span></th>
        <th *ngIf="showActions"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let e of view" class="row">
        <td (click)="openEmployee(e)" style="cursor:pointer">{{e.name}}</td>
        <td>{{e.team}}</td>
        <td>{{e.role}}</td>
        <td>{{e.location}}</td>
        <td>{{e.join}}</td>
        <td><span class="pill" [class.onleave]="e.status==='On leave'">{{e.status}}</span></td>
        <td *ngIf="showActions" style="text-align:right">
          <button class="btn" (click)="edit(e)">Edit</button>
          <button class="btn ghost" (click)="remove(e)" style="margin-left:6px">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="pagination" *ngIf="totalPages > 1" style="margin-top:10px;display:flex;justify-content:flex-end;align-items:center;gap:8px">
    <button class="btn ghost" (click)="goto(currentPage-1)">Prev</button>
    <ng-container *ngFor="let p of [].constructor(totalPages); let i = index">
      <button class="btn" [class.primary]="currentPage===i+1" (click)="goto(i+1)">{{ i+1 }}</button>
    </ng-container>
    <button class="btn ghost" (click)="goto(currentPage+1)">Next</button>
  </div>
</div>
